(this["webpackJsonpprogressive-survey-react"]=this["webpackJsonpprogressive-survey-react"]||[]).push([[0],{20:function(e,t,n){},27:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(22),s=n.n(l),i=n(4),c=n(5),o=n(7),u=n(6),m=n(12),d=n(8),h=n(23),p=n(18);var f=function(e){var t=e.answer;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",value:t.title,name:"title",placeholder:"Answer Title",onChange:e.onChange})," "," ",r.a.createElement("input",{type:"text",value:t.result,name:"result",placeholder:"Answer Result",onChange:e.onChange})," "," ",r.a.createElement("button",{className:"delbtn button btn",onClick:e.delA},"X"))};var E=function(e){var t=e.question;return r.a.createElement("div",{className:"create-question"},r.a.createElement("input",{type:"text",value:t.title,placeholder:"Question Title",onChange:function(n){e.onChange(n.target.value,t.id)},className:"create-qtitle"})," ",r.a.createElement("button",{className:"delq delbtn btn",onClick:function(){return e.delQ(t.id)}},"X"),r.a.createElement("ol",{className:"create-answers",type:"A"},t.answers.map((function(n){return r.a.createElement("li",{className:"create-answer"},r.a.createElement(f,{answer:n,key:n.id,onChange:function(a){return e.onAnswerChange(t.id,n.id,a.target.name,a.target.value)},delA:function(){return e.delA(t.id,n.id)}}))}))),r.a.createElement("button",{onClick:e.addA.bind(this,t.id),className:"addq addbtn btn"},"Add Answer")," "," ")},g=n(10);n(20);var b=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).makeState=function(){document.body.style="height: auto;";var e=JSON.parse(window.atob(n.props.match.params.quiz));return{title:e.title,author:e.author,questions:e.questions.map((function(e){var t=[];for(var a in e.answers)t.push({title:a,result:e.answers[a],id:n.randomNum(1e5)});return{title:e.title,id:n.randomNum(1e5),answers:t}}))}},n.state=n.makeState(),n.genAnswer=function(){return{title:"",result:"",id:n.randomNum(1e5)}},n.addQ=function(){n.setState({questions:[].concat(Object(p.a)(n.state.questions),[{title:"",answers:[n.genAnswer()],id:n.randomNum(1e5)}])})},n.delQ=function(e){n.setState({questions:n.state.questions.filter((function(t){return t.id!==e}))})},n.onChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.addA=function(e){n.setState({questions:n.state.questions.map((function(t){return t.id===e?(console.log(e),{title:t.title,id:t.id,answers:[].concat(Object(p.a)(t.answers),[{title:"",result:"",id:n.randomNum(1e5)}])}):t}))})},n.delA=function(e,t){n.setState({questions:n.state.questions.map((function(n){return n.id===e?{title:n.title,id:n.id,answers:n.answers.filter((function(e){return e.id!==t}))}:n}))})},n.changeQuestionTitle=function(e,t){n.setState({questions:n.state.questions.map((function(n){return n.id===t?{title:e,id:n.id,answers:n.answers}:n}))})},n.changeAnswerData=function(e,t,a,r){n.setState({questions:n.state.questions.map((function(n){return n.id===e?{title:n.title,id:e,answers:n.answers.map((function(e){return e.id===t?{title:"title"===a?r:e.title,result:"result"===a?r:e.result,id:t}:e}))}:n}))})},n.compile=function(){var e=n.state;e.questions=e.questions.map((function(e){var t={};return e.answers.forEach((function(e){t[e.title]=e.result})),{title:e.title,answers:t}})),function(e,t){var n=document.createElement("a");"string"===typeof n.download?(n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)):window.open(e)}("data:application/json;charset=utf-8;base64,"+window.btoa(unescape(encodeURIComponent(JSON.stringify(e,"")))),e.title+".json")},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"randomNum",value:function(e){return Math.floor(Math.random()*e)+1}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"quiz-header"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(g.b,{to:"/quiz-menu"},r.a.createElement("i",{class:"fas fa-arrow-left"})," Back")),r.a.createElement("li",{className:"key"},"Survey Creator"),r.a.createElement("li",null))),r.a.createElement("input",{type:"text",name:"title",placeholder:"Survey Title",value:this.state.title,onChange:this.onChange,className:"create-title"})," "," ",r.a.createElement("input",{type:"text",name:"author",placeholder:"Survey Author",value:this.state.author,onChange:this.onChange,className:"create-author"})," ",r.a.createElement("br",null),r.a.createElement("br",null),this.state.questions.map((function(t){return r.a.createElement(E,{key:t.id,question:t,delQ:e.delQ,addA:e.addA,delA:e.delA,onChange:e.changeQuestionTitle,onAnswerChange:e.changeAnswerData})})),r.a.createElement("button",{onClick:this.addQ,className:"adda addbtn btn"},"Add Question"),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.compile,className:"fin btn"},"Finish"))}}]),t}(r.a.Component),v=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.answer;return r.a.createElement("li",{key:t.id},r.a.createElement("label",{className:"view-answer"},t.title,r.a.createElement("input",{type:"radio",name:this.props.id,onChange:function(){return e.props.onChange(e.props.id,t.id)},checked:this.props.checked}),r.a.createElement("span",{className:"radio"})))}}]),t}(a.Component),C=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.question,n=t.answers;return r.a.createElement("div",{className:"view-question"},r.a.createElement("h2",null,t.title),r.a.createElement("ul",{class:"view-answers"},n.map((function(n){return r.a.createElement(v,{answer:n,id:t.id,onChange:e.props.onChange,checked:n.checked})}))))}}]),t}(a.Component),w=n(26);function y(e){return r.a.createElement("div",{style:{display:e.show?"block":"none"},className:"results"},r.a.createElement("h1",{className:"results-title"},e.title," Results"),r.a.createElement("p",{className:"results-content"},e.results))}var A=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state=n.makeState(),n.onChange=function(e,t){n.setState({questions:n.state.questions.map((function(n){return e===n.id&&(n.answers=n.answers.map((function(e){return{title:e.title,result:e.result,checked:e.id===t,id:e.id}}))),n}))})},n.readyCheck=function(){var e;n.state.questions.forEach((function(t){e=0!==t.answers.filter((function(e){return e.checked})).length}));return e},n.results=function(){if(n.readyCheck()){var e=function(e){var t="";return e.forEach((function(n){t+=e[e.length-1]===n?n+".":n+". "})),t}(n.state.questions.map((function(e){return e.answers.filter((function(e){return e.checked}))[0].result})));n.setState({results:e,show:!0}),console.log(e)}else n.handleOnOpen()},n.handleOnOpen=function(){n.setState({open:!0})},n.handleOnClose=function(){n.setState({open:!1})},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"randomNum",value:function(e){return Math.floor(Math.random()*e)+1}},{key:"makeState",value:function(){var e=this;document.body.style="height: auto;";var t=JSON.parse(window.atob(this.props.match.params.quiz));return{title:t.title,author:t.author,open:!1,results:"",show:!1,questions:t.questions.map((function(t){var n=[];for(var a in t.answers)n.push({title:a,result:t.answers[a],checked:!1,id:e.randomNum(1e5)});return{title:t.title,id:e.randomNum(1e5),answers:n}}))}}},{key:"render",value:function(){var e=this;return document.title=this.state.title,r.a.createElement(a.Fragment,null,r.a.createElement(w.a,{open:this.state.open,closeOnDocumentClick:!0,onClose:this.handleOnClose},r.a.createElement("span",{className:"error-content"},"Hey! You need to answer all the options!"),r.a.createElement("button",{className:"error-close closebtn",onClick:this.handleOnClose},"Okay")),r.a.createElement("header",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(g.b,{to:"/"},r.a.createElement("i",{class:"fonta fas fa-arrow-left"})," Back")),r.a.createElement("li",{className:"key"},this.state.title),r.a.createElement("li",null))),r.a.createElement("div",{id:"view-root",style:{display:this.state.show?"none":"block"}},r.a.createElement("h1",{className:"view-title"},this.state.title),r.a.createElement("br",null),r.a.createElement("h3",{className:"view-preauthor"},"By:"),r.a.createElement("h3",{className:"view-author"},this.state.author),this.state.questions.map((function(t){return r.a.createElement(C,{key:t.id,question:t,onChange:e.onChange})})),r.a.createElement("button",{className:"fin btn",onClick:this.results},"Submit")),r.a.createElement(y,{show:this.state.show,results:this.state.results,title:this.state.title}))}}]),t}(a.Component),O=n(11);function k(){var e=this,t=document.querySelector("#file").files[0],n=new FileReader;n.onload=function(){return e.props.history.push(e.dest+window.btoa(n.result))},n.readAsText(t)}function q(){document.querySelector("#file").click()}var I=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).dest="/view/",n.handleOnFile=k.bind(Object(m.a)(n)),n.requestFile=q.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return document.title="Progressive Survey",document.body.style="height: 100%;",r.a.createElement(a.Fragment,null,r.a.createElement("input",{type:"file",id:"file",style:{display:"none"},onChange:this.handleOnFile}),r.a.createElement("header",null,r.a.createElement("ul",null,r.a.createElement("li",null),r.a.createElement("li",{className:"key"},"Progressive Survey"),r.a.createElement("li",null))),r.a.createElement("ul",{className:"btns"},r.a.createElement(g.b,{to:"/quiz-menu"},r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement("i",{class:"fonta fas fa-file-signature"}),r.a.createElement("br",null),"Survey Creator"))),r.a.createElement("a",{onClick:this.requestFile},r.a.createElement("li",null,r.a.createElement("div",{style:{paddingTop:"0.57px"}},r.a.createElement("i",{class:"fonta fas fa-file-alt"}),r.a.createElement("br",null),"Survey Viewer")))))}}]),t}(a.Component),j=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).dest="/quiz/",n.handleOnFile=k.bind(Object(m.a)(n)),n.requestFile=q.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return document.body.style="height: 100%;",r.a.createElement(a.Fragment,null,r.a.createElement("input",{type:"file",id:"file",style:{display:"none"},onChange:this.handleOnFile}),r.a.createElement("header",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(g.b,{to:"/"},r.a.createElement("i",{class:"fonta fas fa-arrow-left"})," Back")),r.a.createElement("li",{className:"key"},"Survey Creator"),r.a.createElement("li",null))),r.a.createElement("ul",{className:"btns"},r.a.createElement(g.b,{to:"/quiz/ewogICAgInRpdGxlIjogIiIsCiAgICAiYXV0aG9yIjogIiIsCiAgICAicXVlc3Rpb25zIjogWwogICAgICAgIHsKICAgICAgICAgICAgInRpdGxlIjogIiIsCiAgICAgICAgICAgICJhbnN3ZXJzIjogewogICAgICAgICAgICAgICAgIiI6ICIiCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICBdCn0="},r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement("i",{class:"fonta fas fa-plus"}),r.a.createElement("br",null),"New Survey"))),r.a.createElement("a",{onClick:this.requestFile},r.a.createElement("li",null,r.a.createElement("div",{style:{paddingTop:"0.57px"}},r.a.createElement("i",{class:"fonta fas fa-file-signature"}),r.a.createElement("br",null),"Edit Survey")))))}}]),t}(a.Component);var N=function(){return r.a.createElement(a.Fragment,null,r.a.createElement(g.a,{basename:"/ProgressiveSurveyReact"}," ",r.a.createElement(O.a,{exact:!0,path:"/",component:I}),r.a.createElement(O.a,{path:"/quiz/:quiz",component:b}),r.a.createElement(O.a,{path:"/view/:quiz",component:A}),r.a.createElement(O.a,{path:"/quiz-menu",component:j})))},S=document.getElementById("root");s.a.render(r.a.createElement(N,null),S)}},[[27,1,2]]]);
//# sourceMappingURL=main.3e5c0806.chunk.js.map