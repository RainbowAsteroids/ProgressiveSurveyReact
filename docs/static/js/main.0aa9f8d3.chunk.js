(this["webpackJsonpprogressive-survey-react"]=this["webpackJsonpprogressive-survey-react"]||[]).push([[0],{20:function(e,t,a){},27:function(e,t,a){e.exports=a(37)},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),s=a.n(l),i=a(4),c=a(5),o=a(7),u=a(6),m=a(12),d=a(8),h=a(23),p=a(18);var f=function(e){var t=e.answer;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",value:t.title,name:"title",placeholder:"Answer Title",onChange:e.onChange})," "," ",r.a.createElement("input",{type:"text",value:t.result,name:"result",placeholder:"Answer Result",onChange:e.onChange})," "," ",r.a.createElement("button",{className:"delbtn button btn",onClick:e.delA},"X"))};var E=function(e){var t=e.question;return r.a.createElement("div",{className:"create-question"},r.a.createElement("input",{type:"text",value:t.title,placeholder:"Question Title",onChange:function(a){e.onChange(a.target.value,t.id)},className:"create-qtitle"})," ",r.a.createElement("button",{className:"delq delbtn btn",onClick:function(){return e.delQ(t.id)}},"X"),r.a.createElement("ol",{className:"create-answers",type:"A"},t.answers.map((function(a){return r.a.createElement("li",{className:"create-answer"},r.a.createElement(f,{answer:a,key:a.id,onChange:function(n){return e.onAnswerChange(t.id,a.id,n.target.name,n.target.value)},delA:function(){return e.delA(t.id,a.id)}}))}))),r.a.createElement("button",{onClick:e.addA.bind(this,t.id),className:"addq addbtn btn"},"Add Answer")," "," ")},g=a(10);a(20);var b=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).makeState=function(){document.body.style="height: auto;";var e=JSON.parse(window.atob(a.props.match.params.quiz));return{title:e.title,author:e.author,questions:e.questions.map((function(e){var t=[];for(var n in e.answers)t.push({title:n,result:e.answers[n],id:a.randomNum(1e5)});return{title:e.title,id:a.randomNum(1e5),answers:t}}))}},a.state=a.makeState(),a.genAnswer=function(){return{title:"",result:"",id:a.randomNum(1e5)}},a.addQ=function(){a.setState({questions:[].concat(Object(p.a)(a.state.questions),[{title:"",answers:[a.genAnswer()],id:a.randomNum(1e5)}])})},a.delQ=function(e){a.setState({questions:a.state.questions.filter((function(t){return t.id!==e}))})},a.onChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.addA=function(e){a.setState({questions:a.state.questions.map((function(t){return t.id===e?(console.log(e),{title:t.title,id:t.id,answers:[].concat(Object(p.a)(t.answers),[{title:"",result:"",id:a.randomNum(1e5)}])}):t}))})},a.delA=function(e,t){a.setState({questions:a.state.questions.map((function(a){return a.id===e?{title:a.title,id:a.id,answers:a.answers.filter((function(e){return e.id!==t}))}:a}))})},a.changeQuestionTitle=function(e,t){a.setState({questions:a.state.questions.map((function(a){return a.id===t?{title:e,id:a.id,answers:a.answers}:a}))})},a.changeAnswerData=function(e,t,n,r){a.setState({questions:a.state.questions.map((function(a){return a.id===e?{title:a.title,id:e,answers:a.answers.map((function(e){return e.id===t?{title:"title"===n?r:e.title,result:"result"===n?r:e.result,id:t}:e}))}:a}))})},a.compile=function(){var e=a.state;e.questions=e.questions.map((function(e){var t={};return e.answers.forEach((function(e){t[e.title]=e.result})),{title:e.title,answers:t}})),function(e,t){var a=document.createElement("a");"string"===typeof a.download?(a.href=e,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)):window.open(e)}("data:application/json;charset=utf-8;base64,"+window.btoa(unescape(encodeURIComponent(JSON.stringify(e,"")))),e.title+".json")},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"randomNum",value:function(e){return Math.floor(Math.random()*e)+1}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"quiz-header"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(g.b,{to:"/quiz-menu"},r.a.createElement("i",{class:"fas fa-arrow-left"})," Back")),r.a.createElement("li",{className:"key"},"Survey Creator"),r.a.createElement("li",null))),r.a.createElement("input",{type:"text",name:"title",placeholder:"Survey Title",value:this.state.title,onChange:this.onChange,className:"create-title"})," "," ",r.a.createElement("input",{type:"text",name:"author",placeholder:"Survey Author",value:this.state.author,onChange:this.onChange,className:"create-author"})," ",r.a.createElement("br",null),r.a.createElement("br",null),this.state.questions.map((function(t){return r.a.createElement(E,{key:t.id,question:t,delQ:e.delQ,addA:e.addA,delA:e.delA,onChange:e.changeQuestionTitle,onAnswerChange:e.changeAnswerData})})),r.a.createElement("button",{onClick:this.addQ,className:"adda addbtn btn"},"Add Question"),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.compile,className:"fin btn"},"Finish"))}}]),t}(r.a.Component),v=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.answer;return r.a.createElement("li",{key:t.id},r.a.createElement("label",{className:"view-answer"},t.title,r.a.createElement("input",{type:"radio",name:this.props.id,onChange:function(){return e.props.onChange(e.props.id,t.id)},checked:this.props.checked}),r.a.createElement("span",{className:"radio"})))}}]),t}(n.Component),C=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.question,a=t.answers;return r.a.createElement("div",{className:"view-question"},r.a.createElement("h2",null,t.title),r.a.createElement("ul",{class:"view-answers"},a.map((function(a){return r.a.createElement(v,{answer:a,id:t.id,onChange:e.props.onChange,checked:a.checked})}))))}}]),t}(n.Component),w=a(26);function y(e){return r.a.createElement("div",{style:{display:e.show?"block":"none"},className:"results"},r.a.createElement("h1",{className:"results-title"},e.title," Results"),r.a.createElement("p",{className:"results-content"},e.results))}var A=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state=a.makeState(),a.onChange=function(e,t){a.setState({questions:a.state.questions.map((function(a){return e===a.id&&(a.answers=a.answers.map((function(e){return{title:e.title,result:e.result,checked:e.id===t,id:e.id}}))),a}))})},a.readyCheck=function(){var e;a.state.questions.forEach((function(t){e=0!==t.answers.filter((function(e){return e.checked})).length}));return e},a.results=function(){if(a.readyCheck()){var e=function(e){var t="";return e.forEach((function(a){t+=e[e.length-1]===a?a+".":a+". "})),t}(a.state.questions.map((function(e){return e.answers.filter((function(e){return e.checked}))[0].result})));a.setState({results:e,show:!0}),console.log(e)}else a.handleOnOpen()},a.handleOnOpen=function(){a.setState({open:!0})},a.handleOnClose=function(){a.setState({open:!1})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"randomNum",value:function(e){return Math.floor(Math.random()*e)+1}},{key:"makeState",value:function(){var e=this;document.body.style="height: auto;";var t=JSON.parse(window.atob(this.props.match.params.quiz));return{title:t.title,author:t.author,open:!1,results:"",show:!1,questions:t.questions.map((function(t){var a=[];for(var n in t.answers)a.push({title:n,result:t.answers[n],checked:!1,id:e.randomNum(1e5)});return{title:t.title,id:e.randomNum(1e5),answers:a}}))}}},{key:"render",value:function(){var e=this;return document.title=this.state.title,r.a.createElement(n.Fragment,null,r.a.createElement(w.a,{open:this.state.open,closeOnDocumentClick:!0,onClose:this.handleOnClose},r.a.createElement("span",{className:"error-content"},"Hey! You need to answer all the options!"),r.a.createElement("button",{className:"error-close closebtn",onClick:this.handleOnClose},"Okay")),r.a.createElement("header",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(g.b,{to:"/"},r.a.createElement("i",{class:"fonta fas fa-arrow-left"})," Back")),r.a.createElement("li",{className:"key"},this.state.title),r.a.createElement("li",null))),r.a.createElement("div",{id:"view-root",style:{display:this.state.show?"none":"block"}},r.a.createElement("h1",{className:"view-title"},this.state.title),r.a.createElement("br",null),r.a.createElement("h3",{className:"view-preauthor"},"By:"),r.a.createElement("h3",{className:"view-author"},this.state.author),this.state.questions.map((function(t){return r.a.createElement(C,{key:t.id,question:t,onChange:e.onChange})})),r.a.createElement("button",{className:"submit btn",onClick:this.results},"Submit")),r.a.createElement(y,{show:this.state.show,results:this.state.results,title:this.state.title}))}}]),t}(n.Component),O=a(11);function k(){var e=this,t=document.querySelector("#file").files[0],a=new FileReader;a.onload=function(){return e.props.history.push(e.dest+window.btoa(a.result))},a.readAsText(t)}function q(){document.querySelector("#file").click()}var I=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).dest="/view/",a.handleOnFile=k.bind(Object(m.a)(a)),a.requestFile=q.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return document.title="Progressive Survey",document.body.style="height: 100%;",r.a.createElement(n.Fragment,null,r.a.createElement("input",{type:"file",id:"file",style:{display:"none"},onChange:this.handleOnFile}),r.a.createElement("header",null,r.a.createElement("ul",null,r.a.createElement("li",null),r.a.createElement("li",{className:"key"},"Progressive Survey"),r.a.createElement("li",null))),r.a.createElement("ul",{className:"btns"},r.a.createElement(g.b,{to:"/quiz-menu"},r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement("i",{class:"fonta fas fa-file-signature"}),r.a.createElement("br",null),"Survey Creator"))),r.a.createElement("a",{onClick:this.requestFile},r.a.createElement("li",null,r.a.createElement("div",{style:{paddingTop:"0.57px"}},r.a.createElement("i",{class:"fonta fas fa-file-alt"}),r.a.createElement("br",null),"Survey Viewer")))))}}]),t}(n.Component),j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).dest="/quiz/",a.handleOnFile=k.bind(Object(m.a)(a)),a.requestFile=q.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return document.body.style="height: 100%;",r.a.createElement(n.Fragment,null,r.a.createElement("input",{type:"file",id:"file",style:{display:"none"},onChange:this.handleOnFile}),r.a.createElement("header",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(g.b,{to:"/"},r.a.createElement("i",{class:"fonta fas fa-arrow-left"})," Back")),r.a.createElement("li",{className:"key"},"Survey Creator"),r.a.createElement("li",null))),r.a.createElement("ul",{className:"btns"},r.a.createElement(g.b,{to:"/quiz/ewogICAgInRpdGxlIjogIiIsCiAgICAiYXV0aG9yIjogIiIsCiAgICAicXVlc3Rpb25zIjogWwogICAgICAgIHsKICAgICAgICAgICAgInRpdGxlIjogIiIsCiAgICAgICAgICAgICJhbnN3ZXJzIjogewogICAgICAgICAgICAgICAgIiI6ICIiCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICBdCn0="},r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement("i",{class:"fonta fas fa-plus"}),r.a.createElement("br",null),"New Survey"))),r.a.createElement("a",{onClick:this.requestFile},r.a.createElement("li",null,r.a.createElement("div",{style:{paddingTop:"0.57px"}},r.a.createElement("i",{class:"fonta fas fa-file-signature"}),r.a.createElement("br",null),"Edit Survey")))))}}]),t}(n.Component);var N=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(g.a,{basename:"/ProgressiveSurveyReact"},r.a.createElement(O.a,{exact:!0,path:"/",component:I}),r.a.createElement(O.a,{path:"/quiz/:quiz",component:b}),r.a.createElement(O.a,{path:"/view/:quiz",component:A}),r.a.createElement(O.a,{path:"/quiz-menu",component:j})))},S=document.getElementById("root");s.a.render(r.a.createElement(N,null),S)}},[[27,1,2]]]);
//# sourceMappingURL=main.0aa9f8d3.chunk.js.map